# HTTP Virtual Host (port 80)
<VirtualHost *:80>
  <Directory /var/www/html/snipeit/public>
      Require all granted
      AllowOverride All
      Options -Indexes
  </Directory>

  DocumentRoot /var/www/html/snipeit/public
  ServerName 34.194.90.188
</VirtualHost>

# HTTPS Virtual Host (port 443)
<VirtualHost *:443>
  <Directory /var/www/html/snipeit/public>
      Require all granted
      AllowOverride All
      Options -Indexes
  </Directory>

  DocumentRoot /var/www/html/snipeit/public
  ServerName 34.194.90.188
  
  # SSL Configuration
  SSLEngine on
  SSLCertificateFile /etc/ssl/certs/snipeit.crt
  SSLCertificateKeyFile /etc/ssl/private/snipeit.key
  
  # Modern SSL/TLS Configuration
  SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1
  SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
  SSLHonorCipherOrder off
  SSLSessionTickets off
  
  # HTTPS-specific headers
  Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
  Header always set X-Frame-Options DENY
  Header always set X-Content-Type-Options nosniff
</VirtualHost>
